import { GroupBox, VerticalBox, HorizontalBox } from "std-widgets.slint";
import { StyledButton } from "styled_button.slint";
import { SingleLineEdit } from "single_line_edit.slint";

export component TimestampPanel {
    in-out property <string> input: "";
    in-out property <string> output: "";
    
    callback convert-timestamp();
    callback convert-ms-timestamp();
    callback get-current-timestamp();
    callback get-current-ms-timestamp();

    GroupBox {
        title: "时间戳转换";
        vertical-stretch: 0;
        
        VerticalBox {
            padding: 16px;
            spacing: 16px;
            
            SingleLineEdit {
                text <=> root.input;
                placeholder-text: "输入时间戳...";
                background: #ffffff;
            }

            VerticalBox {
                spacing: 12px;

                HorizontalBox {
                    spacing: 12px;
                    alignment: center;
                    StyledButton {
                        text: "获取当前时间戳";
                        clicked => { root.get-current-timestamp(); }
                        width: 160px;
                    }
                    StyledButton {
                        text: "获取毫秒时间戳";
                        clicked => { root.get-current-ms-timestamp(); }
                        width: 160px;
                    }
                }

                HorizontalBox {
                    spacing: 12px;
                    alignment: center;
                    StyledButton {
                        text: "Unix时间戳转换";
                        clicked => { root.convert-timestamp(); }
                        width: 160px;
                    }
                    StyledButton {
                        text: "毫秒时间戳转换";
                        clicked => { root.convert-ms-timestamp(); }
                        width: 160px;
                    }
                }
            }

            SingleLineEdit {
                text <=> root.output;
                read-only: true;
                background: #F5F5F5;
            }
        }
    }
} 