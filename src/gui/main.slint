import { VerticalBox } from "std-widgets.slint";
import { TimestampPanel } from "components/timestamp_panel.slint";
import { JsonPanel } from "components/json_panel.slint";

export component MainWindow inherits Window {
    title: "开发者工具";
    min-width: 800px;
    min-height: 600px;
    
    in-out property <string> timestamp-input: "";
    in-out property <string> timestamp-output: "";
    in-out property <string> json-input: "";
    in-out property <string> json-output: "";
    
    callback convert-timestamp();
    callback convert-ms-timestamp();
    callback format-json();
    callback get-current-timestamp();
    callback get-current-ms-timestamp();
    
    VerticalBox {
        padding: 16px;
        spacing: 16px;

        TimestampPanel {
            input <=> root.timestamp-input;
            output <=> root.timestamp-output;
            convert-timestamp => { root.convert-timestamp(); }
            convert-ms-timestamp => { root.convert-ms-timestamp(); }
            get-current-timestamp => { root.get-current-timestamp(); }
            get-current-ms-timestamp => { root.get-current-ms-timestamp(); }
        }
        
        JsonPanel {
            input <=> root.json-input;
            output <=> root.json-output;
            format-json => { root.format-json(); }
        }
    }
}