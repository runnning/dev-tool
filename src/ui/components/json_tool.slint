import { VerticalBox, HorizontalBox, GroupBox, TextEdit } from "std-widgets.slint";
import { Colors, Fonts, Styles } from "../themes/mod.slint";
import { CustomButton } from "./common.slint";

export component JsonToolComponent {
    in-out property <string> output: "";
    in-out property <string> input: "";

    callback format-json(string);
    callback minify-json(string);

    VerticalBox {
        spacing: 16px;

        GroupBox {
            title: "输入JSON";
            VerticalBox {
                spacing: 8px;
                TextEdit {
                    height: 240px;
                    text <=> root.input;
                    font-size: Fonts.size-normal;
                    placeholder-text: "请输入要处理的JSON";
                }
                HorizontalBox {
                    alignment: end;
                    spacing: Styles.spacing-normal;
                    CustomButton {
                        text: "格式化";
                        clicked => { root.format-json(root.input) }
                        width: 100px;
                    }
                    CustomButton {
                        text: "压缩";
                        clicked => { root.minify-json(root.input) }
                        width: 100px;
                    }
                }
            }
        }

        GroupBox {
            title: "输出结果";
            VerticalBox {
                spacing: 8px;
                TextEdit {
                    height: 240px;
                    text <=> root.output;
                    read-only: true;
                    font-size: Fonts.size-normal;
                }
            }
        }
    }
} 